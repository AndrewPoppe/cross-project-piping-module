{
	"name": "Cross-Project Piping",

	"namespace": "Vanderbilt\\CrossprojectpipingExternalModule",

	"description": "Cross-Project Piping pipes from one field in one project into another field in another project. The projects have to be MATCHED on a third field in both projects. Enable this module in the DESTINATION project and place appropriate field annotations in the DESTINATION field. Action Tags will take the form of @PROJECTPIPING=[123PID][field] or [123PID][event][field]. Also, the action tag in another DESTINATION field to be matched to the SOURCE project is @FIELDMATCH=screening_id, where the field hosting the action tag will match screening_id in the SOURCE.",

    "authors": [
        {
            "name": "Scott J. Pearson",
            "email": "datacore@vanderbilt.edu",
            "institution": "Vanderbilt University Medical Center"
        }
    ],
	
	"permissions": [
		"redcap_data_entry_form_top",
		"redcap_survey_page_top",
		"select_data"
	],

	"project-settings": [
      {
         "key": "repeating-group",
         "name": "Settings for a single destination field",
         "required": true,
         "type": "sub_settings",
         "repeatable":true,
         "sub_settings": [
			{
			"key": "term-projectid",
			"name": "<b>PID from Source Project</b> - The project ID number (PID) of the project from which to pipe the data value",
			"required": true,
			"repeatable": false,
			"type": "text",
			"validation": "integer"
			},
			{
			"key": "term-eventname",
			"name": "<b>Event name from Source Project</b> - The unique event name (e.g., enrollment_arm1) in the project from which to pipe the data value (for longitudinal projects only)",
			"required": false,
			"repeatable": false,
			"type": "text"
			},
			{
			"key": "term-field",
			"name": "<b>Field name from Source Project</b> - The field variable name in the project from which to pipe the data value",
			"required": true,
			"repeatable": false,
			"type": "text"
			},
			{
			"key": "destination-field",
			"name": "<b>Destination field name in Destination Project</b> - The field variable name in the destination project that contains the value to use for matching (e.g., \"screening_id\" where screening_id is the field on the current destination project that EXACTLY EQUALS the field specified by the @FIELDMATCHSOURCE action tag.",
			"required": true,
			"repeatable": false,
			"type": "field-list"
			},
			{
			"key": "match-term",
			"name": "<b>Field name to match in Destination Project</b> - The field variable name in the destination project that contains the value to use for matching (e.g., \"screening_id\" where screening_id is the field on the current destination project that EXACTLY EQUALS the field specified by the @FIELDMATCHSOURCE action tag.",
			"required": true,
			"repeatable": false,
			"type": "field-list"
			},
			{
			"key": "match-source-term",
			"name": "Action Tag Term on to/destination field (default: @FIELDMATCHSOURCE); '=' (no spaces, no quotes) value is field name in the source project (from) that contains the value to use for matching.  If this action tag is omitted, the record id field on the source project will be used.  E.g., @FIELDMATCHSOURCE=screening_id where screening_id is the field on the source project that EXACTLY EQUALS the field on the destination project specified by the @FIELDMATCH action tag.",
			"required": false,
			"repeatable": false,
			"type": "text"
			}
		]
	  }
	],
	
	"system-settings": [
		{
		"key": "permission-warning",
		"name": "<div style='color:#C00000;'><b>NOTICE:</b> Since this module allows for data to be pulled into a project from *any* project in the system, it is *highly recommended* that the <b>module configuration permissions</b> above be set to \"<b>require module-specific user privilege</b>\" so that only REDCap administrators are able to set the project-level configuration of this module.</div>",
		"type": "descriptive"
		}
	]
}
